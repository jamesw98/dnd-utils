@page "/multi"
@using dnd_utils.Models
@using dnd_utils.Services
@inject MonsterService MonsterService

<MudContainer MaxWidth="MaxWidth.Large">
    <MudText Typo="Typo.h2">
        D&D Multi-Monster Info Generator
    </MudText>
    <MudDivider/>
    <MudText Typo="Typo.body1">
        Are you tired of manually rolling all 30 of those pesky goblin's initiatives? Want to switch it up and have their HP be randomized instead of just using what's in the book?
    </MudText>
    <MudText Typo="Typo.body1">
        This tool gets rid of all the hastle! Just fill out the information, and it'll shoot out a list of creatures with randomized initiative and HP (sorted by initiative, decending).
    </MudText>
</MudContainer>
<br/>
<MudContainer MaxWidth="MaxWidth.Large">
    <MudGrid>
        <MudItem xs="12" sm="7">
            <MonsterInput @bind-Monsters="_monsters"/>    
        </MudItem>
        <MudItem xs="12" sm="5">
            <MudPaper Class="pa-4 mud-height-full">
                <MudTable Items="@_monsters" Breakpoint="Breakpoint.Md">
                    <HeaderContent>
                        <MudTh>Initiative</MudTh>
                        <MudTh>Name</MudTh>
                        <MudTh>AC</MudTh>
                        <MudTh>Passive</MudTh>
                        <MudTh>HP</MudTh>
                    </HeaderContent>
                    <RowTemplate>
                        <MudTd>@context.Initiative</MudTd>
                        <MudTd>@context.Name</MudTd>
                        <MudTd>@context.ArmorClass</MudTd>
                        <MudTd>@context.PassivePerception</MudTd>
                        <MudTd>@context.HitPoints</MudTd>
                    </RowTemplate>
                </MudTable>
            </MudPaper>
        </MudItem>
    </MudGrid>
</MudContainer>

@code {
    private List<Monster> _monsters = new();
}